<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"crossorigin="anonymous"></script>
    <title>S570401</title>
    <style>
        #helpButton:hover{
            color: aqua;
        }
    </style>
</head>
<body>
    <h1>Find the coins by Vinil</h1>
    <div id="instructions">
        <p>Click on the locations to find coins, beware the monster</p>
    </div>
    <div id="locations">
        <p>Number of locations checked is <span id="locationsCount">0</span>.</p>
    </div>
    <div id="score">
        <p>Score is <span id="scoreValue">0</span>.</p>
    </div>
    <div id="click-for-help">
        <p><button id="helpButton" onclick="help()">Click for help</button></p>
    </div>
    <button onclick="newGame()" class="btn" styl="margin-bottom: 1%; background-color:rgb(18,186,20); color:rgb(76,43,184);" >Newgame</button>
    <div id="help">Help report</div>
    <div class="container" >
        <div class="row" >
            <div class="col-sm-1" id="Image0" ><img  onclick="check(0)" style="border: solid;" src="building 1.jpg" width="100px" height="100px"></div>
            <div class="col-sm-1" id="Image1" ><img  onclick="check(1)" style="border: solid;" src="building 1.jpg" width="100px" height="100px"></div>
            <div class="col-sm-1" id="Image2" ><img  onclick="check(2)" style="border: solid;" src="building 1.jpg" width="100px" height="100px"></div>
            <div class="col-sm-1" id="Image3" ><img  onclick="check(3)" style="border: solid;" src="building 1.jpg" width="100px" height="100px"></div>
            <div class="col-sm-1" id="Image4" ><img  onclick="check(4)" style="border: solid;" src="building 1.jpg" width="100px" height="100px"></div>
        </div>
        <div class="row" >
            <div class="col-sm-1" id="Image5" ><img  onclick="check(5)" style="border: solid;" src="building 1.jpg" width="100px" height="100px"></div>
            <div class="col-sm-1" id="Image6" ><img  onclick="check(6)" style="border: solid;" src="building 1.jpg" width="100px" height="100px"></div>
            <div class="col-sm-1" id="Image7" ><img  onclick="check(7)" style="border: solid;" src="building 1.jpg" width="100px" height="100px"></div>
            <div class="col-sm-1" id="Image8" ><img  onclick="check(8)" style="border: solid;" src="building 1.jpg" width="100px" height="100px"></div>
            <div class="col-sm-1" id="Image9" ><img  onclick="check(9)" style="border: solid;" src="building 1.jpg" width="100px" height="100px"></div>
        </div>
        <div class="row" >
            <div class="col-sm-1" id="Image10" ><img onclick="check(10)"  style="border: solid;" src="building 1.jpg" width="100px" height="100px"></div>
            <div class="col-sm-1" id="Image11" ><img onclick="check(11)"  style="border: solid;" src="building 1.jpg" width="100px" height="100px"></div>
            <div class="col-sm-1" id="Image12" ><img onclick="check(12)"  style="border: solid;" src="building 1.jpg" width="100px" height="100px"></div>
            <div class="col-sm-1" id="Image13" ><img onclick="check(13)"  style="border: solid;" src="building 1.jpg" width="100px" height="100px"></div>
            <div class="col-sm-1" id="Image14" ><img onclick="check(14)"  style="border: solid;" src="building 1.jpg" width="100px" height="100px"></div>
        </div>
        <div class="row" >
            <div class="col-sm-1" id="Image15" ><img onclick="check(15)"  style="border: solid;" src="building 1.jpg" width="100px" height="100px"></div>
            <div class="col-sm-1" id="Image16" ><img onclick="check(16)"  style="border: solid;" src="building 1.jpg" width="100px" height="100px"></div>
            <div class="col-sm-1" id="Image17" ><img onclick="check(17)"  style="border: solid;" src="building 1.jpg" width="100px" height="100px"></div>
            <div class="col-sm-1" id="Image18" ><img onclick="check(18)"  style="border: solid;" src="building 1.jpg" width="100px" height="100px"></div>
            <div class="col-sm-1" id="Image19" ><img onclick="check(19)"  style="border: solid;" src="building 1.jpg" width="100px" height="100px"></div>
        </div>
        <div class="row" >
            <div class="col-sm-1" id="Image20" ><img onclick="check(20)"  style="border: solid;" src="building 1.jpg" width="100px" height="100px"></div>
            <div class="col-sm-1" id="Image21" ><img onclick="check(21)"  style="border: solid;" src="building 1.jpg" width="100px" height="100px"></div>
            <div class="col-sm-1" id="Image22" ><img onclick="check(22)"  style="border: solid;" src="building 1.jpg" width="100px" height="100px"></div>
            <div class="col-sm-1" id="Image23" ><img onclick="check(23)"  style="border: solid;" src="building 1.jpg" width="100px" height="100px"></div>
            <div class="col-sm-1" id="Image24" ><img onclick="check(24)"  style="border: solid;" src="building 1.jpg" width="100px" height="100px"></div>
        </div>
        <div class="row" >
            <div class="col-sm-1" id="Image25" ><img onclick="check(25)"  style="border: solid;" src="building 1.jpg" width="100px" height="100px"></div>
            <div class="col-sm-1" id="Image26" ><img onclick="check(26)"  style="border: solid;" src="building 1.jpg" width="100px" height="100px"></div>
            <div class="col-sm-1" id="Image27" ><img onclick="check(27)"  style="border: solid;" src="building 1.jpg" width="100px" height="100px"></div>
            <div class="col-sm-1" id="Image28" ><img onclick="check(28)"  style="border: solid;" src="building 1.jpg" width="100px" height="100px"></div>
            <div class="col-sm-1" id="Image29" ><img onclick="check(29)"  style="border: solid;" src="building 1.jpg" width="100px" height="100px"></div>
        </div>
        <div class="row" >
            <div class="col-sm-1" id="Image30" ><img onclick="check(30)"  style="border: solid;" src="building 1.jpg" width="100px" height="100px"></div>
            <div class="col-sm-1" id="Image31" ><img onclick="check(31)"  style="border: solid;" src="building 1.jpg" width="100px" height="100px"></div>
            <div class="col-sm-1" id="Image32" ><img onclick="check(32)"  style="border: solid;" src="building 1.jpg" width="100px" height="100px"></div>
            <div class="col-sm-1" id="Image33" ><img onclick="check(33)"  style="border: solid;" src="building 1.jpg" width="100px" height="100px"></div>
            <div class="col-sm-1" id="Image34" ><img onclick="check(34)"  style="border: solid;" src="building 1.jpg" width="100px" height="100px"></div>
        </div>
    </div>
    <script>
    var ids = ["Image0", "Image1", "Image2", "Image3", "Image4", "Image5", "Image6", "Image7", "Image8", "Image9",
                  "Image10", "Image11", "Image12", "Image13", "Image14", "Image15", "Image16", "Image17", "Image18", "Image19",
                  "Image20", "Image21", "Image22", "Image23", "Image24", "Image25", "Image26", "Image27", "Image28", "Image29",
                  "Image30", "Image31", "Image32", "Image33", "Image34"];
        var score = 0;
        var locations = 0;
        var lastLocation = 0;
        var fancyCoinLocations = [2, 5, 14, 19, 23, 33];
        var monsterLocation = 20;
        var gameOver = false;

        function check(position) {
            if (!gameOver) {
                var clickedImage = document.getElementById("Image" + position);
                if (position == monsterLocation) {
                    clickedImage.firstChild.src = "monster.jpg";
                    gameOver = true;
                    score -= 5;
                } else if (fancyCoinLocations.includes(position)) {
                    clickedImage.firstChild.src = "fancycoin.jpg";
                    score += 3;
                } else {
                    clickedImage.firstChild.src = "coin.jpg";
                    score += 1;
                }
                locations += 1;
                document.getElementById("locations").innerHTML = "Number of locations checked is " + locations + ".";
                document.getElementById("score").innerHTML = "Score is " + score + ".";
                lastLocation = position;
            }
        }
        function newGame()
        {
            score = 0;
            const score1 = document.getElementById("score");
            score1.textContent = `Score is ${score}`;

            locations = 0;
            const locationsl = document.getElementById("locations");
            locationsl.textContent = `Number of locations checked is ${locations}`;

            lastLocation = 0;
            monsterLocation = Math.floor(Math.random() * 35);
            fancyCoinLocations = Array.from({ length: 6 }, () =>
                Math.floor(Math.random() * 35)
            ).filter((value, index, self) => self.indexOf(value) === index);

            gameOver = false;

            for (let i = 0; i < ids.length; i++) {
                const img = document
                    .getElementById(ids[i])
                    .querySelector('img');
                    img.setAttribute("src", "building 1.jpg");
            }
        }
        function help() {
            let returnValue = "All Clear";
            let row = Math.floor(lastLocation / 5);
            let col = lastLocation % 5;
            let kinshipLocations = [lastLocation - 1, lastLocation + 1, lastLocation - 5, lastLocation + 5];
            
            kinshipLocations.forEach(kinshipLocation => {
                if (fancyCoinLocations.includes(kinshipLocation))
                    returnValue = "So close";
            });

            if (Math.abs(row - Math.floor(monsterLocation / 5)) <= 1 && Math.abs(col - (monsterLocation % 5)) <= 1) {
                returnValue = "Grrr";
            }
            document.getElementById("help").innerHTML = returnValue;
        }
    </script>   
</body>
</html>